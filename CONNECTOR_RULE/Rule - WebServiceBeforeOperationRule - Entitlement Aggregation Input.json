{
  "description": "This rule creates a json input for entitlement aggregation operation.",
  "type": "WebServiceBeforeOperationRule",
  "signature": {
    "input": [],
    "output": {
      "name": "",
      "description": null,
      "type": null
    }
  },
  "sourceCode": {
    "version": "1.0",
    "script": "import sailpoint.object.ProvisioningPlan.AccountRequest;\r\nimport sailpoint.object.ProvisioningPlan.AccountRequest.Operation;\r\nimport sailpoint.object.ProvisioningPlan.AttributeRequest;\r\nimport sailpoint.object.ProvisioningPlan;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport org.json.JSONObject;\r\nimport sailpoint.object.ProvisioningPlan.Operation;\r\nimport sailpoint.object.Attributes;\r\nimport java.util.UUID; \r\n\r\nString ruleName=\"Rule - WebServiceBeforeOperationRule - Entitlement Aggregation Input\";\r\nlog.info(\"Entering : \"+ruleName);\r\nUUID uuid = UUID.randomUUID();   //randomly generates a UUID\r\nString uuidAsString = uuid.toString();  \r\nlog.info(\"Randomly Generated UUID: \"+uuidAsString);\r\nMap bodyMap = new HashMap();\r\nJSONObject jsonBody = new JSONObject();\r\nlog.info(\"Initial RequestBody : \"+requestEndPoint.getBody());    \r\njsonBody.put(\"sourcename\", \"ohidev3\");\r\njsonBody.put(\"uuid\", uuidAsString);   \r\nbodyMap.put(\"jsonBody\", jsonBody.toString()); \r\nrequestEndPoint.setBody(bodyMap); \r\nlog.info(\"Final RequestBody : \"+requestEndPoint.getBody());\r\nlog.info(\"Exiting rule : \"+ruleName);\r\nreturn requestEndPoint;"
  },
  "attributes": {
    "sourceVersion": "1.0"
  },
  "id": "b4ae9efe172041c39c04ad3394e8fe8b",
  "name": "Rule - WebServiceBeforeOperationRule - Entitlement Aggregation Input",
  "created": "2022-08-02T08:42:15.402Z",
  "modified": "2024-04-17T19:16:04.206Z"
}